# 7장 연산자

연산자는 하나 이상의 표현식을 대상으로 연산을 수행한 뒤 하나의 값을 만든다.

이때 연산의 대상을 피연산자라고 한다.

피연산자는 연산의 대상이 되어야 하므로 값으로 평가할 수 있어야 한다.

자바스크립트는 산술 연산자, 할당 연산자, 비교 연산자, 삼항 조건 연산자, 논리 연산자, 쉼표 연산자, 그룹 연산자, typeof 연산자, 지수 연산자 등을 제공한다.

## 7.1 산술 연산자

산술 연산자는 피연산자를 대상으로 수학적 계산을 수행하여 새로운 값을 만든다.

산술 연산이 불가능하면 NaN을 반환한다.

부수 효과(side effect) : 피연산자의 값을 변경한다.

### 이항 산술 연산자

이항 산술 연산자는 2개의 피연산자를 연산하며 부수 효과가 없이 새로운 값을 만든다.

이항 산술 연산자 : +(덧셈), -(뺄셈), \*(곱셈), /(나눗셈), %(나머지)

### 단항 산술 연산자

단항 산술 연산자는 1개의 피연산자를 연산하여 값을 만드며 증감 연산자(++/--)에는 부수 효과가 있다.

증감 연산자(++/--)는 위치에 따라 값이 증감되는 순서가 다르다.

```javascript
let x = 5;
let result;

// 후위
// 선할당 후증가
result = x++;
console.log(result, x); // 5 6

// 선할당 후감소
result = x--;
console.log(result, x); // 6 5

// 전위
// 선증가 후할당
result = ++x;
console.log(result, x); // 6 6

// 선가마소 후할당
result = --x;
console.log(result, x); // 5 5
```

- 연산자는 숫자 타입이 아닌 피연산자에 사용하면 해당 피연산자를 숫자 타입으로 변환하여 반환한다.

* 연산자는 양수를 음수로, 음수를 양수로 반전한 값을 반환한다.

### 문자열 연결 연산자

- 연산자는 피연산자 중 하나 이상이 문자열일 경우 자바스크립트 엔진에 의해 암묵적 타입 변환이 일어난다.

```javascript
"1" + 2; // '12'

1 + true; // 2

1 + false; // 1

1 + null; // 1

1 + undefined; // NaN
```

## 7.2 할당 연산자

할당 연산자(=)는 우항에 있는 피연산자의 평가 결과를 좌항의 변수에 할당한다.

좌항의 변수 값이 변하기 때문에 부수 효과가 있다.

할당문은 값으로 평가되는 표현식인 문으로서 할당된 값으로 평가된다.

그래서 할당문을 다른 변수에 할당할 수 있다.

```javascript
let a, b, c;
a = b = c = 0;
```

## 7.3 비교 연산자

비교 연산자는 좌항과 우항의 피연산자를 비교한 다음 그 결과를 불리언 값으로 반환한다.

### 동등/일치 비교 연산자

동등 비교 연산자(==)는 피연산자를 비교할 때 먼 암묵적 타입 변환을 통해 타입을 일치시킨 후 비교한다.

일치 비교 연산자(===)는 두 피연산자의 값과 타입까지 같은지 엄격한 검사를 한다.

동등 비교 연산자(==)는 예측하기 어려운 결과를 만들어내기 때문에 사용하지 않는 편이 좋다.

```javascript
NaN === NaN; // false
```

NaN은 자신과 일치하지 않는 유일한 값이다. 따라서 숫자가 NaN인지 확인하려면 빌트인 함수 Number.isNaN을 사용한다.

```javascript
Number.isNaN(1 + undefined); // true
```

자바스크립트에는 양의 0과 음의 0이 있는데 이 둘을 비교하면 true를 반환한다.

Object.is 메서드는 예측 가능한 정확한 비교 결과를 반환한다.

```javascript
-0 === +0; // true
Object.is(-0, +0); // false

NaN === NaN; // false
Object.is(NaN, NaN); // true
```

### 대소 관계 비교 연산자

피연산자의 크기를 비교하여 불리언 값을 반환한다.

대소 관계 비교 연산자 : >, <, >=, <=

## 7.4 삼항 조건 연산자

상항 조건 연산자는 조건식의 평가 결과에 따라 반환할 값을 결정한다.

조건식 ? 조건식이 true일 때 반환할 값 : 조건식이 false일 때 반환할 값

만약 조건식의 평가 결과가 불리언 값이 아니라면 암묵적 타입 변환이 일어난다.

그리고 조건식이 참이면 콜론(:) 앞의 피연산자가 평가되어 반환되고, 거짓이면 콜론(:) 뒤의 피연산자가 평가되어 반환된다.

상항 조건 연산자 표현식은 값으로 평가할 수 있는 표현식인 문이다. 따라서 다른 표현식의 일부가 될 수 있다.

```javascript
let x = 10;
let result = x % 2 ? "홀수" : "짝수";
console.log(result);
```

삼항연산자를 중첩해서 사용하는 것도 가능하다. 하지만 가독성이 떨어지기 때문에 if else 문으로 사용하는 것이 좋다.

```javascript
let score = 40;
score >= 90
  ? console.log("A+")
  : score >= 50
  ? console.log("B+")
  : console.log("F"); // F
```

## 7.5 논리 연산자

논리 연산자는 피연산자를 논리 연산한다.

논리합(OR, ||), 논리곱(AND, &&), 부정(NOT, !)

논리 부정 연산자는 언제나 불리언 값을 반환한다. 만약 피연산자가 불리언 값이 아니면 암묵적 타입 변환이 일어난다.

논리합, 논리곱 연산자는 앞의 피연산자가 어떤 값이냐에 따라 뒤의 피연산자를 평가하지 않는다. 이를 단축 평가라 한다.

```javascript
"Cat" && "Dog"; // Dog
"Cat" || "Dog"; // Cat
false && "key"; // false
```

## 7.6 쉼표 연산자

쉼표 연산자(,)는 왼쪽 피연산자부터 차례대로 평가하고 마지막 피연산자의 평가가 끝나면 마지막 피연산자의 평가 결과를 반환한다.

```javascript
let x, y, z;
(x = 1), (y = 2), (z = 3); // 3
```

## 7.7 그룹 연산자

그룹 연산자('()')는 자신의 피연산자인 표현식을 가장 먼저 평가하며 연산자 우선순위가 가장 높다.

```javascript
10 * 2 + 3; // 23
10 * (2 + 3); // 50
```

## 7.8 typeof 연산자

피연산자의 데이터 타입을 'string', 'number', 'boolean', 'undefined', 'symbol', 'object', 'function' 중 하나의 문자열로 반환한다.

typeof 연산자로 null 값을 연산하면 'object'를 반환하는데 이는 자바스크립트 첫 번째 버전의 버그다. 기존 코드에 영향을 줄 수 있기 때문에 아직 수정되지 못하고 있다고 한다.

따라서 값이 null 타입인지 확인할 때는 일치 연산자(===)를 사용하자.

## 7.9 지수 연산자

지수 연산자(\*\*)는 좌항의 피연산자를 밑으로, 우항의 피연산자를 지수로 거듭 제곱하여 숫자 값을 반환한다.

```javascript
2 ** 2; // 4
```

음수를 거듭제곱의 밑으로 사용한다면 괄호로 묶어줘야 한다.

```javascript
(-5) ** 2; // 25
```

할당 연산자와 함께 사용할 수 있으며 이항 연산자 중에서 우선순위가 가장 높다.

```javascript
let num = 5;
num ** = 2;   // 25

2 * 5 ** 2;   // 50
```

## 7.10 그 외의 연산자

?. : 옵셔널 체이닝 연산자

?? : null 병합 연삱

delete : 프로퍼티 삭제

new : 생성자 함수를 호출할 때 사용하여 인스턴스를 생성

instanceof : 좌변의 객체가 우변의 생성자 함수와 연결된 인스턴스인지 판별

in : 프로퍼티 존재 확인

## 7.11 연산자의 부수 효과

대부분의 연산자는 다른 코드에 영향을 주지 않지만 일부 연산자는 그러한 부수 효과가 있다.

## 7.12 연산자 우선순위

연산자 우선순위란 여러 개의 연산자로 이뤄진 문이 실행될 때 연산자가 실행되는 순서를 말한다.

연산자 우선수위가 가장 높은 그룹 연산자('()')를 사용하여 우선순위를 명시적으로 조절하는 것이 좋다.

## 7.13 연산자 결합 순서

연산자 결합 순서란 연산자의 어느 쪽부터 평가를 수행할 것인지를 나타내는 순서를 말한다.
