# 12 함수

## 12.1 함수란
> 함수란 어떤 작업을 수행하기 위해 필요한 문(statement)들의 집합을 정의한 코드 블록이다. 함수는 이름과 매개변수를 갖으며 필요한 때에 호출하여 코드 블록에 담긴 문들을 일괄적으로 실행할 수 있다.
> 함수는 호출에 의해 실행되는데 한번만 호출할 수 있는 것이 아니라 여러번 호출할 수 있다.

 - 매개변수 / 인수 / 반환값

 - 함수 정의 & 함수 호출

## 12.2 함수를 사용하는 이유
 - 코드의 재사용
 - 유지 보수의 편의성 & 코드의 신뢰성
 - 코드의 가독성

## 12.3 함수 리터럴
 - function 키워드, 함수 이름, 매개 변수, 함수 몸체
 - 함수는 객체이다
 - 일반 객체는 호출할 수 없지만, 함수는 호출할 수 있다.

## 12.4 함수 정의

 ### 12.4.1 함수 선언문
 - 함수 선언문은 함수 이름을 생략할 수 없다.
 - 함수 선언문은 표현시깅 아닌 문이다.

 생성된 함수를 호출하기 위해 함수 이름과 동일한 이름의 식별자를 암묵적으로 생성하고, 거기애 함수 객체를 할당한다. 
 함수는 함수 이름으로 호출하는 것이 아니라, 함수 객체를 가리키는 식별자로 호출한다.

 ### 12.4.2 함수 표현식
  - 함수는 일급 객체이다.

 ### 12.4.3 함수 생성 시점과 함수 호이스팅
 - 함수 선언문으로 정의한 함수와 함수 표현식으로 정의한 함수의 생성 시점이 다르기 때문
 - 호이스팅
 - 변수 할당문의 값은 할당문이 실행되는 시점, 런타임에 평가되므로 함수 표현식의 함수 리터럴도 함수문이 실행되는 시접에 평가되어 함수 객체가 된다.
 - 함수 표현식으로 함수를 정의하면 함수 호이스팅이 발생하는 것이 아니라 변수 호이스팅이 발생한다.

 ### 12.4.4 Function 생성자 함수
 - 일반적이지도 않고, 바람직하지도 않다.

 ### 12.4.5 화살표 함수
 - ES6에서 도입되었다.
 - 화살표 함수는 항상 익명 함수로 정의한다.
 - 표현과 내부 동작이 모두 간략화되어 있다.
 
## 12.5 함수 호출

 ### 12.5.1 매개변수 인수


 ### 12.5.2 인수 확인

 ### 12.5.3 매개변수의 최대 개수

 ### 12.5.4 반환문

## 12.6 참조에 의한 전달과 외부 상태의 변경
 - 원시타입은 인수의 값 자체가 복사되어 전달되므로 함수 몸체에서 값을 재할당해도 원본이 훼손되지 않는다.
 - 객체타입은 참조 값이 복사되어 전달되므로 함수 몸체에서 값을 재할당하면 원본 객체가 변경된다.

 - 객체를 불변 객체로 만들어야 한다.
 - 깊은 복사!!!

## 12.7 다양한 함수의 형태

 ### 12.7.1 즉시 실행 함수
  함수의 정의와 동시에 실행되는 함수를 즉시 실행 함수(IIFE, Immediately Invoke Function Expression)라고 한다. 최초 한번만 호출되며 다시 호출할 수는 없다. 이러한 특징을 이용하여 최초 한번만 실행이 필요한 초기화 처리등에 사용할 수 있다.

  자바스크립트에서 가장 큰 문제점 중의 하나는 파일이 분리되어 있다하여도 글로벌 스코프가 하나이며 글로벌 스코프에 선언된 변수나 함수는 코드 내의 어디서든지 접근이 가능하다는 것이다.

 따라서 다른 스크립트 파일 내에서 동일한 이름으로 명명된 변수나 함수가 같은 스코프 내에 존재할 경우 원치 않는 결과를 가져올 수 있다.

 즉시 실행 함수 내에 처리 로직을 모아 두면 혹시 있을 수도 있는 변수명 또는 함수명의 충돌을 방지할 수 있어 이를 위한 목적으로 즉시실행함수를 사용되기도 한다.

 특히 jQuery와 같은 라이브러리의 경우, 코드를 즉시 실행 함수 내에 정의해 두면 라이브러리의 변수들이 독립된 영역 내에 있게 되므로 여러 라이브러리들은 동시에 사용하더라도 변수명 충돌과 같은 문제를 방지할 수 있다.

 ### 12.7.2 재귀 함수
 재귀 함수(Recusive function)는 자기 자신을 호출하는 함수를 말한다.

 재귀 함수는 자신을 무한히 연쇄 호출하므로 호출을 멈출 수 있는 탈출 조건을 반드시 만들어야 한다. 탈출 조건이 없는 경우, 함수가 무한 호출되어 stackoverflow 에러가 발생한다.

 대부분의 재귀 함수는 for나 while 문으로 구현이 가능하다. 반복문보다 재귀 함수를 통해 보다 직관적으로 이해하기 쉬운 구현이 가능한 경우에만 한정적으로 적용하는 것이 바람직하다.

 ### 12.7.3 중첩 함수
 함수 내부에 정의된 함수를 내부함수(Inner function)라 한다.

 아래 예제의 내부함수 child는 자신을 포함하고 있는 부모함수 parent의 변수에 접근할 수 있다. 하지만 부모함수는 자식함수(내부함수)의 변수에 접근할 수 없다.

 또한 내부함수는 부모함수의 외부에서 접근할 수 없다.

 ### 12.7.4 콜백 함수
 콜백 함수(Callback function)는 함수를 명시적으로 호출하는 방식이 아니라 특정 이벤트가 발생했을 때 시스템에 의해 호출되는 함수를 말한다.

 콜백 함수가 자주 사용되는 대표적인 예는 이벤트 핸들러 처리이다.

 Javascript의 함수는 일급객체이다. 따라서 Javascript의 함수는 흡사 변수와 같이 사용될 수 있다.

 콜백 함수는 매개변수를 통해 전달되고 전달받은 함수의 내부에서 어느 특정시점에 실행된다.

 콜백 함수는 주로 비동기식 처리 모델(Asynchronous processing model)에 사용된다. 비동기식 처리 모델이란 처리가 종료하면 호출될 함수(콜백함수)를 미리 매개변수에 전달하고 처리가 종료하면 콜백함수를 호출하는 것이다.

 콜백함수는 콜백 큐에 들어가 있다가 해당 이벤트가 발생하면 호출된다. 콜백 함수는 클로저이므로 콜백 큐에 단독으로 존재하다가 호출되어도 콜백함수를 전달받은 함수의 변수에 접근할 수 있다.

 ### 12.7.5 순수 함수와 비순수 함수
 - 부수 효과가 없으면 순수 함수
 동일한 인수가 전달되면, 동일한 값 전달 => 외부변수 의존 하지 않는다. 내부로 전달된 인수에만 의존!
 하나 이상의 인수를 전달 받아야 의미가 있다.
 외부 상태 변경 하지 않음

 - 부수 효과가 있으면 비순수 함수
 외부 상태에 의존하고, 변경하는 함수

 => 객체지향 프로그래밍 / 함수형 프로그래밍
 