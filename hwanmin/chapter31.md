# RegExp 정규표현식

## 정규표현식이란 ?

일정한 패턴을 가진 문자열의 집합을 표현하기 위해 사용하는 형식 언어이다.

자바스크립트는 ES3부터 정규표현식 문법이 적용되었다.

정규표현식을 사용 하면 문자열 패턴 매칭 기능으로 간편하게 체킹이 가능하다.

```js
const tel = "010-1234-564알";

const regExp = /^\d{3}-\d{4}-\d{4}$/;

regExp.test(tel); // false

const tel = "010-1234-5642";

const regExp = /^[0-9]{3}-[0-9]{4}-[0-9]{4}$/;

regExp.test(tel);
console.log("regExp.test(tel): ", regExp.test(tel)); // true
```

## 정규표현식 생성

/regexp/i

위 예제에서 / /는 시작과 끝을 나타내고 가운데 regexp는 문자열 매칭 패턴이 들어가는 부분이다.

마지막에 i는 플래그로 대소문자 구분하지 않는다는 의미이다.

## 자주 사용하는 정규 표현식

### 특정 단어로 시작하는지 검사

```js
const url = "http://localhost:3000";

const regExp = /^https?:\/\//;

console.log("regExp.test(url): ", regExp.test(url));
```

위 예지는 정규표현식 사용해서 http or https로 시작하는지 확인하는 정규표현식인데 일단 ^기호를 사용해서 문자의 시작이 http로 시작해야한다는 것을 의미하고

?를 사용해서 앞에 문자는 s는 0개 이상존재 해야 한다 라는 의미이기 때문에 0개가 오거나 그 이상이 있으면 되기 때문에

http:// 혹은 https://로 시작하는지 확인하는 정규 표현식이 된다.

```js
/^(http|https):\/\//;
```

위 예시도 아까 봤던 http or https 체크하는 정규표현식이랑 똑같은 정규 표현식이다.

^(시작) 과 반대로 반드시 이걸로 끝나야 한다는 의미도 있을 것이다 이것을 예로 들자면

*$*기호를 사용하면 반드시 앞에 기호로 끝이 나야 한다는 것을 명시하는 것이다.

```js
const file = "index.js";
/.js$/.test(file);
```

위 예제 같은 경우 .js로 끝나는지 확인하는 정규 표현식이다.

### 숫자로만 이루어진 문자열인지 검사

```js
const target = "12345";

console.log("^/d+$/.test(target): ", /^\d+$/.test(target));
```

위 예제같은 경우는 숫자로 시작해야하고 +기호가 있기 때문에 1개이상 숫자가 존재해야 하고 \d -> 숫자를 의미하고

*$*숫자로 끝나야 한다라는 의미에 정규표현식이다.

### 하나 이상의 공백으로 시작하는지 검사

```js
const target = " Hi";

/^[\s]+/.test(target);
console.log("^[s]+/.test(target): ", /^[\s]+/.test(target));
```

\s는 공백문자를 의미합니다.

그래서 위 코드는 하나이상의 공백으로 시작하는지 확인하는 정규 표현식 입니다.

### 아이디로 사용 가능한지 검사

```js
const id = "abc123";

/^[a-zA-Z0-9]{4,10}$/.test(id);
console.log("/^[a-zA-Z0-9]{4,10}$/.test(id): ", /^[a-zA-Z0-9]{4,10}$/.test(id));
```

```js
const email = "ungmo2@gmail.com";

/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(
  email
);
console.log(
  "/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(email): ",
  /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(
    email
  )
);
```

^는 일단 시작한다는 의미이고 , 영어 소문자 , 대문자 숫자로 이루어 지고 4~10자리 인지 확인하는 정규 표현식 입니다.

?는 -\_\.이 한번 까지는 써도 된다는 건가 ??

```js
const email = "ung-m-o2@gmail.com";

/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(
  email
);
console.log(
  "/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(email): ",
  /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(
    email
  )
);
```

음 결과가 트루로 나오는 걸로 봐서 @ 앞에 정규 표현식은 숫자 소,대문자 앞에 앞에 특수문자가 하나는 있어도 되고 없어도 된다는 뜻인거 같다.

그리고 @ 뒤에도 앞이랑 똑같이 숫자 대,소문자랑 이루어지면서 ? 앞에 특수문자가 한번은 있어도 되고 없어도 된다는 의미인거 같다.

그리고 맨 마지막에 끝날때는 영어 대,소문자로 2~3글자로 끝나야 한다 (ex) ko,com)

```js
const email = "ung-m-o2@gmail.co2";

/^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(
  email
);
console.log(
  "/^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/.test(email): ",
  /^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/.test(
    email
  )
);
```

마지막에 숫자를 넣으면 테스트에 실패하는 모습을 볼 수 있다.

인터넷 메세지 형식으로 문자열 패턴 매칭을 하면 매우 복잡해 진다.

```
(?:[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)_|"(?:
[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])
_")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:
(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9]
[0-9]?|[a-z0-9-]\*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\
[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])

```

```js
const cellphone = "010-1234-5678";

/^\d{3}-\d{3,4}-\d{4}$/.test(cellphone); // -> true
```

위 코드는 숫자 3자로 시작하고 -문자가 있고 , 숫자 3~4자로 이루어져 있고, 마지막에는 숫자4자로 이루어져 있는지 확인하는 정규 표현식이다.

### 특수 문자 포함 여부 검사

```js
const target = "abc#123";

/[^A-Za-z0-9]/gi.test(target);
console.log("/[^A-Za-z0-9]/gi.test(target);: ", /[^A-Za-z0-9]/gi.test(target));
```

true가 나온다

왜냐하면 [ ] 바깥에서 _^_ 표시는 시작해야 한다 의미지만 [ ]내에서는 낫에 의미이기 때문이다.

```js
const target = "abc#123";
/[\{\}\[\]\/?.,;:|\)*~`!^\-_+<>@\#$%&\\\=\(\'\"]/gi.test(target); // -> true
```

특정 특수문자만 걸러낼 수도 있다.

```js
const target = "abc#123";
target.replace(/[^A-Za-z0-9]/gi, ""); // -> abc123
```

위 코드는 String메서드 replace를 사용해서 대,소문자 숫자 가 아닌 모든 정규표현식을 찿아서 공백으로 교체하는 정규표현식 입니다.
